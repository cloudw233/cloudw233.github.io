---
title: 开摄像头的晚自习如何摆烂？
date: 2022-12-27 11:56:45
tags:
---

# 开摄像头的晚自习如何摆烂？

## 准备

1. ffmpeg：[官网下载](https://ffmpeg.org/)
2. OBS Studio：[官网下载](https://obsproject.com)

## 开始

### 配置ffmpeg

- 自行从官网下载最新的windows build，获得**ffmpeg-CCYY-MM-DD-git-{commit}-essentials_build.7z**
- 将其解压到：**C://Program Files/ffmpeg**
- 然后在Windows自带搜索功能内键入：**编辑系统环境变量**

	- 点击右下角**"环境变量"**
	<img src="https://s2.loli.net/2022/12/27/hPjslqkWaXCmRbE.png" alt="Clip_20221227_123615" style="zoom:50%;" />
	编辑上方用户变量的**Path**行（系统变量的**Path**行亦可），然后将**C://Program Files/ffmpeg/bin**填入一个新行
	<img src="https://s2.loli.net/2022/12/27/xQB4MEDsmb7Ofpc.png" alt="Clip_20221227_124416" style="zoom:50%;" />

	- 重启你的电脑
- 至此，ffmpeg的配置就完成了

### 配置OBS Studio

#### 安装OBS Studio

- 跟着安装包来就行，大家都会搞，这里不作介绍

#### 配置OBS Studio

- 配置指南第一个选第二项，其余的无脑下一个即可

- 来到设置，在**"高级=>录像"**里，勾选"自动封装至MP4格式"

<img src="https://s2.loli.net/2022/12/27/4UiAEb97zI2falr.png" alt="Clip_20221227_131106" style="zoom:50%;" />

- 在来源列表里，依次点击**"添加源=>视频采集设备"**，**"新建"**,在设备内选择**"Integrated Camera"**一项，其余默认即可

<img src="https://s2.loli.net/2022/12/27/4xjGg96fiEHwDJY.png" alt="Clip_20221227_131257" style="zoom: 50%;" /><img src="https://s2.loli.net/2022/12/27/l1MCe83ZaiXFv2V.png" alt="Clip_20221227_131316" style="zoom:50%;" /><img src="https://s2.loli.net/2022/12/27/K6JWbu9hOfCAalT.png" alt="Clip_20221227_131418" style="zoom: 33%;" />

- 确定后录制1分钟左右的你认真学习的视频

### 使用ffmpeg来拼接视频文件

- 来到你OBS输出的默认文件夹（默认是**C://Users/{Your Name}/Videos**）

- 将你的录制文件**"CCYY-MM-DD hh-mm-ss.mp4"**重命名为**"inputfile.mp4"**

- 右键=>在终端中打开，输入：

```shell
ffmpeg -i inputfile.mp4 -filter_complex [0:v]reverse[v] -map [v] -preset superfast reversed.mp4
```

- 等待程序跑完，之后输入：

```shell
ffmpeg -i "concat:inputfile.mp4|reversed.mp4" -c copy output.mp4
```

### 回到OBS添加视频源

- 添加一个媒体源，文件选择上一节中的**output.mp4**,勾选上**循环**

<img src="C:\Users\QRZ20\Pictures\Screenshots\Clip_20221227_133706.png" alt="Clip_20221227_133706" style="zoom:50%;" /><img src="https://s2.loli.net/2022/12/27/5avsUOHqhIzJYC6.png" alt="Clip_20221227_134003" style="zoom:50%;" />

- 来到主界面，在右下角的控件中点击启动虚拟摄像机，之后每次启动OBS都需要点击此选项

<img src="https://s2.loli.net/2022/12/27/I7YcLXoz4FRf2S6.png" alt="Clip_20221227_134259" style="zoom: 67%;" />

### 修改软件内默认摄像头

- 以腾逊会议为例，将摄像头从**"Integrated Camera"**更改为**"OBS Virtual Camera"**即可快乐摸鱼了！

<img src="https://s2.loli.net/2022/12/27/PljmKyinw91W83T.png" alt="Clip_20221227_134705" style="zoom:50%;" />

## 结束

最后，将媒体源设置为隐藏，将视频采集设备设置为可见，以应对老师的点名

<img src="https://s2.loli.net/2022/12/27/3LJntefz1uohaUW.png" alt="Clip_20221227_135126" style="zoom:67%;" />

**感谢你看到这里！**
